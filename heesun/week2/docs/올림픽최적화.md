## 🎯 올림픽 통계 서비스 최적화

### 1. CSS 애니메이션 최적화

#### 쟁크(jank)란?

- 애니메이션이 **부드럽지 않고 끊겨 보이는 현상**
- 브라우저가 매 프레임을 **제시간에 렌더링하지 못할 때 발생**

#### 애니메이션의 원리

- 여러 장의 이미지를 빠르게 전환하여 **잔상**을 통해 움직임을 느끼게 함
- 대부분의 디스플레이는 **60Hz**, 브라우저는 **1초에 60프레임(FPS)** 렌더링

#### 브라우저 렌더링 과정 핵심

- **렌더 트리 생성 → 레이아웃 계산 → 페인트 → 컴포지트**

##### 리플로우 (Reflow)

- 레이아웃까지 **전체 렌더링 경로를 다시 실행**
- **가장 리소스를 많이 소모**

##### 리페인트 (Repaint)

- 레이아웃은 유지한 채, **스타일이나 색상 변화만 다시 그림**
- 리플로우보다는 가볍지만 여전히 비용 큼

##### ✅ 최적화 핵심 속성

- `transform`, `opacity`

  - **레이아웃과 페인트 단계를 건너뜀**
  - 별도의 레이어로 분리되고 **GPU에서 처리됨**

##### 하드웨어 가속

- CPU 대신 GPU로 작업 위임하여 성능 향상
- `transform`, `opacity`는 GPU에서 처리됨
- `will-change` 속성으로 브라우저에 **미리 최적화 힌트 제공 가능**

```css
.element {
  will-change: transform, opacity;
}
```

---

### 2. 컴포넌트 지연 로딩 (Lazy Loading)

- **사용 시점에 필요한 코드만 로딩**
- 초기 로딩 속도 개선에 효과적

```tsx
const Modal = React.lazy(() => import('./Modal'));
```

#### 단점

- 사용 시점에서 **추가 로딩 시간**이 필요 → 예: 모달 열기 지연

---

### 3. 컴포넌트 사전 로딩 (Preloading)

- **지연 로딩의 단점을 보완**
- 사용 전에 필요한 컴포넌트를 **미리 로딩**
- 사용 시점엔 로딩 없이 바로 렌더링 가능 → **UX 개선**

```tsx
import('./Modal'); // 클릭 전에 실행
```

#### 주의점

- **언제 사전 로딩을 시작할지** 타이밍 고려 필요

  - 너무 일찍 = 초기 로딩 무거움
  - 너무 늦게 = 지연 효과 없음

---

### 결론: 실무 적용 전략

| 최적화 기법            | 목적                 | 장점                        | 주의할 점                        |
| ---------------------- | -------------------- | --------------------------- | -------------------------------- |
| `transform`, `opacity` | 애니메이션 성능 향상 | GPU 처리로 부드러운 효과    | 레이어 과도 분리는 오히려 역효과 |
| `will-change`          | 애니메이션 예고      | 브라우저의 선제 최적화 유도 | 남용 시 성능 저하                |
| 지연 로딩              | 초기 속도 개선       | 초기 번들 크기 ↓            | 사용 시 로딩 지연 발생           |
| 사전 로딩              | UX 개선              | 사용자 체감 성능 ↑          | 로딩 타이밍 설계 필요            |

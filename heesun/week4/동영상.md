# ✅ 웹에서의 동영상 및 폰트 최적화 실습 정리

## 🎞 동영상 최적화

### 📌 문제 상황

웹페이지에 사용된 동영상의 크기가 너무 커서, 사용자 입장에서는 재생이 시작되기까지 꽤 오랜 시간이 걸립니다.
`Network` 패널을 통해 확인해보면 영상 전체가 한 번에 로딩되는 것이 아니라, 일정 부분씩 쪼개서 요청됩니다. 특히 영상의 앞부분을 먼저 받아오고 나머지는 순차적으로 다운로드하는 형태이기 때문에, 로딩이 끝나기 전까지 영상이 재생되지 않아 기다림이 발생합니다.

> 예시: `assets` 폴더에 있는 영상 파일 용량이 54MB로, 웹에서 쓰기엔 지나치게 큼

---

### 🔧 해결 방법: 동영상 압축

동영상도 이미지처럼 **용량을 줄이는 최적화 작업**이 가능합니다. 대표적인 방식은 다음과 같습니다:

1. **영상의 해상도(가로×세로 크기)를 낮춤**
2. **압축 방식 변경 (예: WebM 포맷)**
3. **비트레이트(Bit Rate) 조정** – 예를 들어, 512kbps로 낮춤
4. **불필요한 오디오 제거** – 단순한 배경 영상이라면 음성은 제거해도 됨

> ✅ WebM은 구글에서 만든 포맷으로, 웹에서 빠르게 재생되도록 최적화되어 있음
> 📌 호환성을 위해 MP4로도 함께 제공할 수 있음

[온라인 동영상 압축 도구 보기](https://www.media.io/app)

---

### 🎯 실습 결과

- **최적화 전**: 영상 재생까지 약 6초 소요
- **최적화 후**: 1초 내 재생 시작
  ➡️ 사용자 경험 대폭 개선!

하지만, **화질 저하**라는 단점이 존재함. 이를 보완하는 트릭도 존재함.

---

### 🎨 화질 저하 보완하기: 패턴 + 필터 사용

압축된 영상이 뿌옇거나 깨져 보일 수 있는데, 이를 시각적으로 덜 인지하게 만들 수 있는 방법이 있음.

1. **패턴 배경 사용**: 영상 위에 점박이 무늬, 노이즈 배경 등을 얹으면 화질 저하가 눈에 덜 띔
2. **필터 적용**: `filter: blur(10px)`와 같은 블러 처리로 영상 품질이 낮다는 느낌을 희석시킴
   Tailwind 사용 시 `blur-md` 정도가 적절

---

## 🔤 폰트 최적화

### 📌 문제 상황

`Network` 패널에서 `Fast 3G` 속도로 테스트할 경우, 배너에 사용된 웹 폰트가 늦게 로드되어 **텍스트가 바뀌는 깜빡임(FOUT, FOIT)** 현상이 발생합니다.

- 폰트 파일 용량: 750kb
- 다운로드 소요 시간: 약 4.8초
- 텍스트는 5초 후에야 제대로 렌더링됨

➡️ 페이지가 느려 보이며, UX에 부정적 영향

---

### 👀 FOUT vs FOIT

| 구분     | 설명                                         | 사용 브라우저 | 사용자 경험                   |
| -------- | -------------------------------------------- | ------------- | ----------------------------- |
| **FOUT** | 기본 폰트로 먼저 보여주고, 폰트 로드 후 변경 | 엣지          | 깜빡이지만 빠르게 보임        |
| **FOIT** | 폰트 로드 전까지 텍스트 숨김                 | 크롬, 사파리  | 깜깜하다가 갑자기 텍스트 등장 |

**크롬은 3초간 기다렸다가 기본 폰트로 보여주며, 이후 웹폰트를 적용**

➡️ 상황에 따라 전략적 선택 필요 (중요한 텍스트는 FOUT, 부가 텍스트는 FOIT)

---

### 💡 해결 방법 1: `font-display` 속성 활용

CSS의 `@font-face`에 다음 속성 적용 가능:

```css
font-display: swap; /* FOUT 방식 */
font-display: block; /* FOIT (3초) */
font-display: fallback; /* FOIT (0.1초) */
font-display: optional; /* FOIT (0.1초) + 네트워크 상태 기반 */
```

> 실습에서는 중요한 텍스트가 아니므로 `block` 사용
> 하지만 갑작스럽게 나타나는 것을 보완하기 위해 **fade-in 애니메이션 적용**

---

### 💡 해결 방법 2: 폰트 용량 자체 줄이기

#### 1. **폰트 포맷 변경**

| 포맷      | 설명         | 크기    | 용도            |
| --------- | ------------ | ------- | --------------- |
| TTF / OTF | 기본 포맷    | 크다    | 운영체제        |
| WOFF      | 웹용 압축    | 작음    | 웹 추천         |
| WOFF2     | 더 높은 압축 | 더 작음 | 최신 브라우저만 |

- [Transfonter에서 변환](https://transfonter.org/)
- `WOFF2 → WOFF → TTF` 순서로 우선순위 적용

---

#### 2. **서브셋 폰트 사용**

전체 폰트 파일이 아닌, **실제로 사용하는 문자만 포함**한 폰트를 사용하여 용량을 대폭 줄일 수 있음.

- 예: 전체 447kb → 서브셋 27kb
- fallback용으로 TTF 포함해도 됨

---

#### 3. **Data-URI 형태로 폰트 삽입 (선택)**

- 폰트 파일을 Base64로 인코딩해 CSS에 직접 삽입
- 별도 요청 없이 폰트 로드 가능
- Transfonter에서 Data-URI 옵션 제공

---

## 🧩 결론

- 웹 성능 최적화는 사용자 경험과 직결됩니다.
- 동영상, 폰트처럼 **용량이 큰 리소스**는 반드시 최적화를 고려해야 합니다.
- 단순히 '압축'만이 아니라, **화질 저하/로딩 지연을 감추는 시각적 트릭**까지 함께 사용해야 완성도가 올라갑니다.
